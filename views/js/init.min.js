if(window.APP_URI="https://fast-foo.herokuapp.com/api/v1",localStorage.getItem("flash")){const flash=localStorage.getItem("flash"),noty=JSON.parse(flash);toast(noty.type,noty.message),localStorage.removeItem("flash")}const getUserDetails=async options=>{const res=await fetch(`${window.APP_URI}/users/me`,options),user=await res.json();if(200!==res.status)return!1;let isAdmin;isAdmin=1===user.user[0].role?btoa("true"):btoa("false");const $authUser={email:user.user[0].email,isAdmin:isAdmin,address:user.user[0].address};return localStorage.setItem("user",JSON.stringify($authUser)),!0};if(localStorage.getItem("token")){const token=localStorage.getItem("token"),options={method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",token:token}};void 0===localStorage.getItem("user")&&getUserDetails(options)}const flash=data=>{localStorage.setItem("flash",JSON.stringify(data))};